## Template / example for `bases/proxy/config.yaml`
## Copy this to `config.yaml` and fill in any secrets or provider-specific entries.

mixed-port: 7890
allow-lan: true
bind-address: '*'
mode: rule
log-level: info
external-controller: '127.0.0.1:9090'
secret: ''
cfw-latency-url: 'http://cp.cloudflare.com/generate_204'
cfw-latency-timeout: 3000
cfw-latency-type: 1
cfw-conn-break-strategy: true
url-rewrite:
    - '^https?:\/\/(www.)?(g|google)\\.cn https://www.google.com 302'
    - '^https?:\/\/(ditu|maps).google\\.cn https://maps.google.com 302'
clash-for-android:
    append-system-dns: false
dns:
    enable: true
    enhanced-mode: fake-ip
    fake-ip-range: 198.18.0.1/16
    nameserver-policy: { '*.tw': 1.1.1.1 }
    nameserver: [119.29.29.29, 223.5.5.5, 114.114.114.114]
    fallback: ['208.67.222.222:5353']
    fallback-filter: { geoip: true, geoip-code: CN }

# Proxies are intentionally omitted from the template to avoid committing secrets.
# Add your proxies here in the same format as the original `config.yaml`.
# Example entry (replace placeholders):
# proxies:
#   - { name: 'my-proxy', type: trojan, server: example.com, port: 12345, password: '<YOUR_PASSWORD>' }

proxy-groups:
    - { name: 大哥云, type: select, proxies: ['自动选择', '故障转移'] }
    - { name: 自动选择, type: url-test, proxies: [] }
    - { name: 故障转移, type: fallback, proxies: [] }

rules:
    - 'DOMAIN-SUFFIX,services.googleapis.cn,大哥云'
    - 'MATCH,大哥云'
